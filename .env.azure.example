# Policy Bot - Azure Environment Configuration
# Use these settings in Azure App Service Configuration or Azure Container Apps

# ============================================
# OpenAI API
# ============================================
OPENAI_API_KEY=sk-your-api-key-here

# ============================================
# Mistral API (for OCR)
# ============================================
MISTRAL_API_KEY=your-mistral-api-key-here

# ============================================
# Embedding Configuration
# ============================================
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIMENSIONS=3072

# ============================================
# ChromaDB
# ============================================
# If using sidecar container in Azure Container Apps:
CHROMA_HOST=localhost
CHROMA_PORT=8000
# If using separate container:
# CHROMA_HOST=chroma-container-name
# CHROMA_PORT=8000

# ============================================
# Redis - Azure Cache for Redis
# ============================================
# Azure Redis uses TLS (rediss://) on port 6380
# Format: rediss://:accesskey@hostname.redis.cache.windows.net:6380
REDIS_URL=rediss://:your-access-key@your-redis-name.redis.cache.windows.net:6380

# ============================================
# Authentication (NextAuth)
# ============================================
# Your Azure domain (e.g., https://your-app.azurewebsites.net)
NEXTAUTH_URL=https://your-app-name.azurewebsites.net

# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=generate-a-secure-random-string

# Azure AD Configuration (recommended for Azure deployments)
# Get from Azure Portal > App registrations
AZURE_AD_CLIENT_ID=your-client-id
AZURE_AD_CLIENT_SECRET=your-client-secret
AZURE_AD_TENANT_ID=your-tenant-id

# ============================================
# Access Control
# ============================================
ACCESS_MODE=allowlist
# Or use domain mode:
# ACCESS_MODE=domain
# ALLOWED_DOMAINS=yourdomain.com

# ============================================
# Admin Configuration
# ============================================
ADMIN_EMAILS=admin@yourdomain.com

# ============================================
# Storage
# ============================================
# Path inside container - mount Azure Files share to this path
DATA_DIR=/app/data

# ============================================
# Node Environment
# ============================================
NODE_ENV=production
